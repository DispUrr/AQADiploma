# План автоматизации тестирования продукта «Путешествие дня»
## Функционал приложения
Приложение предлагает купить тур в Марракеш двумя способами:
1. Оплата по дебетовой карте;
1. Выдача кредита по данным банковской карты.
### Карты для тестирования:
|     Номер карты     |       Статус      |
|:-------------------:|:-----------------:| 
| 4444 4444 4444 4441 |      APPROVED     |
| 4444 4444 4444 4442 |      DECLINED     |
### Поддерживаемые СУБД
1. MySQL;
1. PostgreSQL.
### Валидные данные полей формы покупки тура
|     Поле    |      Требование   |
|:-----------:|:-----------------:| 
| Номер карты | Последовательность из 12 цифр |
|    Месяц    | Двухначное число от 01 до 12 включительно, не менее текущего месяца|
|     Год     | Год в формате XX, где ХХ - последние две цифры года;<br>Год не позже 5 лет от текущего, и не менее текущего года|
|   Владелец  | ФИ на латинице, не менее одной буквы |
|    CVC/CVV  | Трёхзначное число от 000 до 999 |

## Уровни тестирования
1. Модульное тестирование - проверка функциональности и поиск дефектов.
## Виды тестирования
1. Функциональное тестирование - тестирование функциональности на соответствие требованиям;
1. Конфигурационное тестирование - проверка работы при различных конфигурациях системы (разные браузеры, ПК и мобильное устройство).

# Автоматизированные сценарии
## Позитивные сценарии
|П/п|                        Сценарий                        |   Условие   | Ожидаемый результат|
|:-:|:------------------------------------------------------:| :----------:| :-----------------:|
| 1 |Оплата через опцию **Купить** с активной картой|<br>Номер карты: 4444 4444 4444 4441;<br>Статус карты **APPROVED**;<br>Остальные поля заполненны валидными данными|На странице формы появилось всплывающее окно **Успешно! Операция одобрена банком**|<br>В БД появилась запись **APPROVED**|
| 2 |Оплата через опцию **Купить в кредит** с активной картой|<br>Номер карты: 4444 4444 4444 4441;<br>Статус карты **APPROVED**;<br>Остальные поля заполненны валидными данными|На странице формы появилось всплывающее окно **Успешно! Операция одобрена банком**|<br>В БД появилась запись **APPROVED**|
| 3 |Оплата через опцию **Купить** с отклонённой картой|<br>Номер карты: 4444 4444 4444 4442;<br>Статус карты **DECLINED**;<br>Остальные поля заполненны валидными данными|На странице формы появилось всплывающее окно **Банк откалал в проведении операции**;<br>В БД появилась запись **DECLINED**|
| 4 |Оплата через опцию **Купить в кредит** с отклонённой картой|<br>Номер карты: 4444 4444 4444 4442;<br>Статус карты **DECLINED**;<br>Остальные поля заполненны валидными данными|На странице формы появилось всплывающее окно **Банк откалал в проведении операции**;<br>В БД появилась запись **DECLINED**|


## Негативные сценарии
|П/п|                        Сценарий                     | Условие | Ожидаемый результат |
|:-:|:---------------------------------------------------:| :------:|:------:|
| 1 |Оплата через опицю **Купить** с несуществующей картой|Номер карты: 4444 4444 4444 4443;<br>Остальные данные заполнены корректно|На странице формы появилось всплывающее окно **Ошибка! Банк отказал в проведении операции**<br>В БД появилась запись со статусом **DECLINED**|
| 2 |Оплата через опицю **Купить в кредит** с несуществующей картой|Номер карты: 4444 4444 4444 4443;<br>Остальные данные заполнены корректно|На странице формы появилось всплывающее окно **Ошибка! Банк отказал в проведении операции**<br>В БД появилась запись со статусом **DECLINED**|
| 3 |Оплата через опицю **Купить** с невалидной картой|Номер карты: 4444 4444 4444 444;<br>Остальные данные заполнены корректно|Под полем **Номер карты** появилось сообщение **Неверный формат**;<br>Запись в БД не появилась|
| 4 |Оплата через опицю **Купить в кредит** с невалидной картой|Номер карты: 4444 4444 4444 444;<br>Остальные данные заполнены корректно|Под полем **Номер карты** появилось сообщение **Неверный формат**;<br>Запись в БД не появилась|
| 5 |Оплата через опицю **Купить** по карте с прошедшим месяцем|В поле **Месяц** вписать прошедший месяц;<br>Остальные данные заполнены корректно|Под полем **Месяц** появилась надпись **Неверно указан срок действия карты**;<br>В БД запись отсуствует|
| 6 |Оплата через опицю **Купить в кредит** по карте с прошедшим месяцем|В поле **Месяц** вписать прошедший месяц;<br>Остальные данные заполнены корректно|Под полем **Месяц** появилась надпись **Неверно указан срок действия карты**;<br>В БД запись отсуствует|
| 7 |Оплата через опицю **Купить** по карте с прошедшим годом использования|В поле **Год** внести год меньше текущего;<br>Остальные данные корректны|Под полем **Год** появилась надпись **Неверно указан срок действия карты**;<br>В БД запись отсуствует|
| 8 |Оплата через опицю **Купить в кредит** по карте с прошедшим годом использования|В поле **Год** внести год меньше текущего;<br>Остальные данные корректны|Под полем **Год** появилась надпись **Неверно указан срок действия карты**;<br>В БД запись отсуствует|
| 9 |Оплата через опицю **Купить** по карте, год действия которой отстаёт от текущего на более 5 лет|В поле **Год** указать год более чем на 5 лет впереди текущего;<br>Остальные данные корректны|Под полем **Год** появилась надпись **Неверно указан срок действия карты**;<br>В БД запись отсуствует|
| 10|Оплата через опицю **Купить в кредит** по карте, год действия которой отстаёт от текущего на более 5 лет|В поле **Год** указать год более чем на 5 лет впереди текущего;<br>Остальные данные корректны|Под полем **Год** появилась надпись **Неверно указан срок действия карты**;<br>В БД запись отсуствует|
| 11|Оплата через опицю **Купить** с незаполненной картой|В поле **Номер карты** не вводить данные;<br>Остальные данные заполнены корректно|Под полем **Карта** появилось сообщение **Поле обязательно для заполнения**;<br>В БД запись отсуствует|
| 12|Оплата через опицю **Купить в кредит** с незаполненной картой|В поле **Номер карты** не ввводить данные;<br>Остальные данные заполнены корректно|Под полем **Карта** появилось сообщение **Поле обязательно для заполнения**;<br>В БД запись отсуствует|
| 13|Оплата через опцию **Купить** с карты, срок действия которой менее года|В поле **Год** указать текущий год;<br>Остальные данные заполнены корректно|Под полем **Год** появилась надпись **Неверно указан срок действия карты**<br>В БД запись отсуствует|
| 14|Оплата через опцию **Купить в кредит** с карты, срок действия которой менее года|В поле **Год** указать текущий год;<br>Остальные данные заполнены корректно|Под полем **Год** появилась надпись **Неверно указан срок действия карты**<br>В БД запись отсуствует|
| 15|Оплата через опцию **Купить** с нулевым сроком действи карты|В поле **Месяц** указать 00;<br>Остальные данные заполнены корректно<br>|Под полем **Месяц** появилась надпись **Неверный формат**;<br>В БД запись отсуствует|
| 16|Оплата через опцию **Купить в кредит** с нулевым сроком действи карты|В поле **Месяц** указать 00;<br>Остальные данные заполнены корректно<br>|Под полем **Месяц** появилась надпись **Неверный формат**;<br>В БД запись отсуствует|
| 17|Оплата через опцию **Купить** с невалидным месяцем|В поле **Месяц** вписать число, превышающее 12;<br>Остальные данные заполнены корректно|Под полем **Месяц** появилась надпись **Неверный формат**;<br>В БД запись отсуствует|
| 18|Оплата через опцию **Купить в кредит** с невалидным месяцем|В поле **Месяц** вписать число, превышающее 12;<br>Остальные данные заполнены корректно|Под полем **Месяц** появилась надпись **Неверный формат**;<br>В БД запись отсуствует|
| 19|Оплата через опцию **Купить** с пустым месяцем|В поле **Месяц** ничего не вписывать;<br>Остальные данные заполнены корректно|Под полем **Месяц** появилась запись **Поле обязательно для заполнения**;<br>В БД запись отсуствует|
| 20|Оплата через опцию **Купить в кредит** с пустым месяцем|В поле **Месяц** ничего не вписывать;<br>Остальные данные заполнены корректно|Под полем **Месяц** появилась запись **Поле обязательно для заполнения**;<br>В БД запись отсуствует|
| 21|Оплата через опцию **Купить** с пустым полем **Владелец**|Поле **Владелец** оставить пустым;<br>Остальные данные заполнены корректно|Под полем **Владелец** появилась запись **Поле обязательно для заполнения**;<br>В БД запись отсуствует|
| 22|Оплата через опцию **Купить в кредит** с пустым полем **Владелец**|Поле **Владелец** оставить пустым;<br>Остальные данные заполнены корректно|Под полем **Владелец** появилась запись **Поле обязательно для заполнения**;<br>В БД запись отсуствует|
| 23|Оплата через опцию **Купить** с заполнением поля **Владелец** кириллицей|ФИ в поле **Владелец** внести на кириллице;<br>Остальные данные заполнены корректно|Под полем **Владелец** появилась надпись **Неверный формат**;<br>В БД запись отсуствует|
| 24|Оплата через опцию **Купить в кредит** с заполнением поля **Владелец** кириллицей|ФИ в поле **Владелец** внести на кириллице;<br>Остальные данные заполнены корректно|Под полем **Владелец** появилась надпись **Неверный формат**;<br>В БД запись отсуствует|
| 25|Оплата через опцию **Купить** с заполнением поля **Владелец** цифрами|В поле **Владелец** внести цифры;<br>Остальные данные заполнены корректно|од полем **Владелец** появилась надпись **Неверный формат**;<br>В БД запись отсуствует|
| 26|Оплата через опцию **Купить в кредит** с заполнением поля **Владелец** цифрами|В поле **Владелец** внести цифры;<br>Остальные данные заполнены корректно|Под полем **Владелец** появилась надпись **Неверный формат**;<br>В БД запись отсуствует|
| 27|Оплата через опцию **Купить в кредит** с заполнением поля **Владелец** спецсимволами|В поле **Владелец** внести специсимволы;<br>Остальные данные заполнены корректно|Под полем **Владелец** появилась надпись **Неверный формат**;<br>В БД запись отсуствует|
| 28|Оплата через опцию **Купить** с пустым полем **CVC/CVV**|Поле **CVC/CVV** оставить пустым;<br>Остальные данные заполнены корректно|Под полем **CVC/CVV** появилась запись **Поле обязательно для заполнения**;<br>В БД запись отсуствует|
| 29|Оплата через опцию **Купить в кредит** с пустым полем **CVC/CVV**|Поле **CVC/CVV** оставить пустым;<br>Остальные данные заполнены корректно|Под полем **CVC/CVV** появилась запись **Поле обязательно для заполнения**;<br>В БД запись отсуствует|
| 30|Оплата через опцию **Купить** с невалидными данными в поле **CVC/CVV**|В поле **CVC/CVV** вписать две цифры;<br>Остальные данные заполнены корректно|Под полем **CVC/CVV** появилась надпись **Неверный формат**;<br>В БД запись отсуствует|
| 31|Оплата через опцию **Купить в кредит** с невалидными данными в поле **CVC/CVV**|В поле **CVC/CVV** вписать две цифры;<br>Остальные данные заполнены корректно|Под полем **CVC/CVV** появилась надпись **Неверный формат**;<br>В БД запись отсуствует|

## Перечень используемых инструментов
- IntelliJ IDEA - интегрированная среда разработки программного обеспечения. Подходит для работы на Java. Умная среда разработки, есть автодополнения кода, предложения по изменению, импорту классов.Поддерживает операционные системы Microsoft Windows, Linux, macOC;
- Java 8 - язык написания автотестов, поддерживает множество библиотек для автотестов;
- Gradle - система автоматической сборки и управления зависимостей, проект с автотестами создан на базе Gradle;
- JUnit5 - инфраструктура модульного тестирования для Java, вся структурасодержится в одной библиотеке;
- Selenide - фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver. Не требует отдельно загрущки вебдрайвера для управления браузером;
- Allure - фреймворк для создания визуальных отчётов по тестированию.
## Перечень возможных рисков
1. Работа на симуляторе банковского сервиса может привести к ошибкам при работе реального приложения;
1. Неуникальные локаторы, затрудняющие поиск элементов на страницу;
1. Несколько страниц приложения затрудняют написание автотестов;
1. Проверка поддержки двух СУБД.
## Интервальная оценка с учётом рисков
- Настройка тестового окружения - 3 часа;
- Написание плана автоматизации - 6 часов;
- Написание и отладка автотестов - 36 часов;
- Написание баг-репортов - 4 часа;
- Подготовка отчёта по итогам автоматизированного тестирования - 8 часов;
- Подготовка отчёта по итогам автоматизации - 8 часов.
**Итого:** 65 часов.